{
    "messages": [
        {
            "text": "<http://ec2-54-234-99-142.compute-1.amazonaws.com:8080/predict>", 
            "type": "message", 
            "user": "U2LUDE27J", 
            "ts": "1487285773.000042"
        }, 
        {
            "text": "```&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"utf-8\"&gt;\n        &lt;link rel= \"stylesheet\" type= \"text/css\" href= \"{{ url_for('static',filename='css/style.css') }}\"&gt;\n\n        &lt;title&gt;{{data.text}}&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div class='outer-container'&gt;\n            &lt;div class='inner-container'&gt;\n                &lt;h1&gt;{{data.result}}&lt;/h1&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/body&gt;\n&lt;/html&gt;```", 
            "type": "message", 
            "user": "U3ANAHFHQ", 
            "ts": "1487285228.000041"
        }, 
        {
            "username": "declausen", 
            "display_as_bot": false, 
            "text": "<@U3ANAHFHQ|declausen> uploaded a file: <https://gstudents.slack.com/files/declausen/F46120E0H/fraud_detect_app.py|fraud_detect_app.py> and commented: for Gordon", 
            "upload": true, 
            "ts": "1487283995.000040", 
            "subtype": "file_share", 
            "user": "U3ANAHFHQ", 
            "file": {
                "initial_comment": {
                    "comment": "for Gordon", 
                    "created": 1487283994, 
                    "timestamp": 1487283994, 
                    "is_intro": true, 
                    "user": "U3ANAHFHQ", 
                    "id": "Fc46PMN45B"
                }, 
                "filetype": "python", 
                "lines_more": 71, 
                "channels": [], 
                "display_as_bot": false, 
                "id": "F46120E0H", 
                "size": 2174, 
                "title": "fraud_detect_app.py", 
                "url_private": "https://files.slack.com/files-pri/T1T555TL0-F46120E0H/fraud_detect_app.py", 
                "ims": [], 
                "preview": "\nfrom flask import Flask, render_template\nfrom pymongo import MongoClient\nimport requests\nimport json", 
                "external_type": "", 
                "edit_link": "https://gstudents.slack.com/files/declausen/F46120E0H/fraud_detect_app.py/edit", 
                "username": "", 
                "timestamp": 1487283994, 
                "public_url_shared": false, 
                "editable": true, 
                "preview_is_truncated": true, 
                "url_private_download": "https://files.slack.com/files-pri/T1T555TL0-F46120E0H/download/fraud_detect_app.py", 
                "user": "U3ANAHFHQ", 
                "groups": [
                    "G457JN5C1"
                ], 
                "is_public": false, 
                "pretty_type": "Python", 
                "name": "fraud_detect_app.py", 
                "mimetype": "text/plain", 
                "permalink_public": "https://slack-files.com/T1T555TL0-F46120E0H-e53f3689fc", 
                "permalink": "https://gstudents.slack.com/files/declausen/F46120E0H/fraud_detect_app.py", 
                "is_external": false, 
                "created": 1487283994, 
                "lines": 76, 
                "comments_count": 1, 
                "mode": "snippet", 
                "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text/plain',window.getSelection().toString().replace(/\\u200b/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>&#8203;</pre></div>\n<div><pre><span class=\"cm-keyword\">from</span> <span class=\"cm-variable\">flask</span> <span class=\"cm-keyword\">import</span> <span class=\"cm-variable\">Flask</span>, <span class=\"cm-variable\">render_template</span></pre></div>\n<div><pre><span class=\"cm-keyword\">from</span> <span class=\"cm-variable\">pymongo</span> <span class=\"cm-keyword\">import</span> <span class=\"cm-variable\">MongoClient</span></pre></div>\n<div><pre><span class=\"cm-keyword\">import</span> <span class=\"cm-variable\">requests</span></pre></div>\n<div><pre><span class=\"cm-keyword\">import</span> <span class=\"cm-variable\">json</span></pre></div>\n</div>\n</div>\n"
            }, 
            "type": "message", 
            "bot_id": null
        }, 
        {
            "text": "```#Since I can't get my complicated stacked NN to work with pickling right now, I'm just doing the \"predict.py\" assignment on Steve's RF as an initial test\n\n\nfrom flask import Flask, request\nimport pickle\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom StringIO import StringIO\nimport pandas as pd\n\n# just one line to simulate an incoming row of data\ndf_one = pd.read_json(\"example.json\")\n\n# df = pd.read_json(\"data/data.json\")\n# df_one['fraud'] = 0\n# def is_fraud(x):\n#     if x == 'fraudster' or x == 'fraudster_event':\n#         return 1\n#     else:\n#         return 0\n\n# df_one['fraud'] = df_one['acct_type'].apply(is_fraud, 1)\n\ndf_one = df_one[['body_length', 'channels', 'fb_published', 'gts', 'has_analytics', 'has_logo', 'name_length', 'sale_duration', 'user_age', 'user_type', 'venue_latitude', 'venue_longitude', 'num_payouts']]\n    #took out 'days_user_event' and n'num_prev_payouts' for now\n#clean up null objects\n# df_one.fillna(value=0, inplace=True` )\n\n\n\n# load the pickled model\nwith open('data/model_RF.pkl') as f:\n    model = pickle.load(f)\n\n# model.fit()\nprint model.predict(df_one)\n```", 
            "type": "message", 
            "user": "U3450LGGP", 
            "ts": "1487278923.000039"
        }, 
        {
            "text": "here's the RF version of the predict:", 
            "type": "message", 
            "user": "U3450LGGP", 
            "ts": "1487278896.000038"
        }, 
        {
            "text": "```#I'm having trouble pickling my stacked NN, so I'm going to first try with just Steve's RF below as a test:\n\nimport pandas as pd\nimport pickle\nimport datetime\nfrom sklearn.feature_extraction.text import TfidfVectorizer\nfrom sklearn.naive_bayes import GaussianNB\nfrom sklearn.ensemble import RandomForestRegressor\nfrom sklearn.metrics import mean_squared_error\nfrom sklearn.cross_validation import train_test_split\nimport numpy as np\n\ndf = pd.read_json('data/data.json')\n# df[\"df_fraud\"] = [(df['acct_type'] == 'fraudster') | (df.acct_type == 'fraudster_event')]\n# df_fraud.head().T\ndf['fraud'] = 0\ndef is_fraud(x):\n    if x == 'fraudster' or x == 'fraudster_event':\n        return 1\n    else:\n        return 0\n\ndf['fraud'] = df['acct_type'].apply(is_fraud, 1)\n# df['time_created_acct'] =\ndf['num_prev_payouts'] = df['previous_payouts'].apply(len, 1)\n\ndf_rf = df[['body_length', 'channels', 'fb_published', 'gts', 'has_analytics', 'has_logo', 'name_length', 'sale_duration', 'user_age', 'user_type', 'venue_latitude', 'venue_longitude', 'num_payouts']]\n    #took out 'days_user_event' and n'num_prev_payouts' for now\n#clean up null objects\ndf_rf.fillna(value=0, inplace=True)\n\ny_rf = df['fraud']\nX_train, X_test, y_train, y_test = train_test_split(df_rf, y_rf, random_state = 21, stratify=y_rf)\nrf = RandomForestRegressor(oob_score=True)\nrf.fit(X_train, y_train)\ny_pred = rf.predict(X_test)\n\n#picklinkg\nwith open('data/model_RF.pkl', 'wb') as f:\n    pickle.dump(rf, f)\nprint 'MSE: ', mean_squared_error(y_test, y_pred)\nprint 'OOB_error: ', rf.oob_score_\n```", 
            "type": "message", 
            "user": "U3450LGGP", 
            "ts": "1487278888.000037"
        }, 
        {
            "text": "Here's the simple RF model.py version:", 
            "type": "message", 
            "user": "U3450LGGP", 
            "ts": "1487278876.000036"
        }, 
        {
            "text": "<@U34BY2K3K> <@U3450LGGP>", 
            "type": "message", 
            "user": "U2LUDE27J", 
            "ts": "1487277808.000035"
        }, 
        {
            "text": "we in the pair lab. lets make it a party", 
            "type": "message", 
            "user": "U2LUDE27J", 
            "ts": "1487277763.000034"
        }, 
        {
            "text": "yo steve", 
            "type": "message", 
            "user": "U2LUDE27J", 
            "ts": "1487277750.000033"
        }, 
        {
            "text": "`<http://galvanize-case-study-on-fraud.herokuapp.com/data_point>`", 
            "type": "message", 
            "user": "U34BY2K3K", 
            "ts": "1487274652.000032"
        }, 
        {
            "text": "Getting one row of \"live\" data:", 
            "type": "message", 
            "user": "U34BY2K3K", 
            "ts": "1487274645.000031"
        }, 
        {
            "text": "That's what Erich just sent me", 
            "type": "message", 
            "user": "U34BY2K3K", 
            "ts": "1487274414.000030"
        }, 
        {
            "text": "If that doesn't work, try clearing any lock files in `/data/db`", 
            "type": "message", 
            "user": "U34BY2K3K", 
            "ts": "1487274402.000029"
        }, 
        {
            "text": "On the template, try running `sudo mongod` and see what happens", 
            "type": "message", 
            "user": "U34BY2K3K", 
            "ts": "1487274384.000028"
        }, 
        {
            "text": "Gordon:", 
            "type": "message", 
            "user": "U34BY2K3K", 
            "ts": "1487274381.000027"
        }, 
        {
            "text": "yup thanks- thats the main thing I've been looking at", 
            "type": "message", 
            "user": "U3450LGGP", 
            "ts": "1487274363.000026"
        }, 
        {
            "text": "Don't forget there is an iPython notebook with some of the pickle stuff fleshed out already _(Pickle.ipynb)_", 
            "type": "message", 
            "user": "U34BY2K3K", 
            "ts": "1487273524.000025"
        }, 
        {
            "text": "I should have the pickling and predicting on a row of data working by 1:30 pm. Someone should check in with me then and see if we can get it to work on the website", 
            "type": "message", 
            "user": "U3450LGGP", 
            "ts": "1487273227.000024"
        }, 
        {
            "username": "whsky", 
            "display_as_bot": false, 
            "text": "<@U34BY2K3K|whsky> uploaded a file: <https://gstudents.slack.com/files/whsky/F46F4T7V1/steveme.md|STEVEME.md> and commented: here's my README file for EDA section...", 
            "upload": true, 
            "ts": "1487270454.000023", 
            "subtype": "file_share", 
            "user": "U34BY2K3K", 
            "file": {
                "initial_comment": {
                    "comment": "here's my README file for EDA section...", 
                    "created": 1487270453, 
                    "timestamp": 1487270453, 
                    "is_intro": true, 
                    "user": "U34BY2K3K", 
                    "id": "Fc45SLR6D7"
                }, 
                "filetype": "markdown", 
                "lines_more": 126, 
                "channels": [], 
                "display_as_bot": false, 
                "id": "F46F4T7V1", 
                "size": 5896, 
                "title": "STEVEME.md", 
                "url_private": "https://files.slack.com/files-pri/T1T555TL0-F46F4T7V1/steveme.md", 
                "ims": [], 
                "preview": "Exploratory Data Analysis:\n==========================\n\nWhat does the data look like?\n-----------------------------", 
                "external_type": "", 
                "edit_link": "https://gstudents.slack.com/files/whsky/F46F4T7V1/steveme.md/edit", 
                "username": "", 
                "timestamp": 1487270453, 
                "public_url_shared": false, 
                "editable": true, 
                "preview_is_truncated": true, 
                "url_private_download": "https://files.slack.com/files-pri/T1T555TL0-F46F4T7V1/download/steveme.md", 
                "user": "U34BY2K3K", 
                "groups": [
                    "G457JN5C1"
                ], 
                "is_public": false, 
                "pretty_type": "Markdown (raw)", 
                "name": "STEVEME.md", 
                "mimetype": "text/plain", 
                "permalink_public": "https://slack-files.com/T1T555TL0-F46F4T7V1-5765456bd8", 
                "permalink": "https://gstudents.slack.com/files/whsky/F46F4T7V1/steveme.md", 
                "is_external": false, 
                "created": 1487270453, 
                "lines": 131, 
                "comments_count": 1, 
                "mode": "snippet", 
                "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text/plain',window.getSelection().toString().replace(/\\u200b/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>Exploratory Data Analysis:</pre></div>\n<div><pre><span class=\"cm-header cm-header-1\">==========================</span></pre></div>\n<div><pre>&#8203;</pre></div>\n<div><pre>What does the data look like?</pre></div>\n<div><pre><span class=\"cm-header cm-header-2\">-----------------------------</span></pre></div>\n</div>\n</div>\n"
            }, 
            "type": "message", 
            "bot_id": null
        }, 
        {
            "text": "eric just said \"i would tmux that\" is anyone familiar?", 
            "type": "message", 
            "user": "U2LUDE27J", 
            "ts": "1487270225.000022"
        }, 
        {
            "text": "Looks like 5 layers of \"Dense\" cores?", 
            "type": "message", 
            "user": "U34BY2K3K", 
            "ts": "1487269514.000021"
        }, 
        {
            "text": "What kind of NN are you running?", 
            "type": "message", 
            "user": "U34BY2K3K", 
            "ts": "1487269315.000020"
        }, 
        {
            "text": "MSE on Test:  0.0193880344402\n\nIn [333]: np.sqrt(0.01939)\nOut[333]: 0.1392479802366986", 
            "type": "message", 
            "user": "U3450LGGP", 
            "ts": "1487269066.000019"
        }, 
        {
            "text": "regressor MSE with consistent train/test:", 
            "type": "message", 
            "user": "U3450LGGP", 
            "ts": "1487269064.000018"
        }, 
        {
            "text": "Classifier: Accuracy %:  0.979465323518\nRecall %:  0.887931034483", 
            "type": "message", 
            "user": "U3450LGGP", 
            "ts": "1487268575.000017"
        }, 
        {
            "text": "now that ive eliminated some leakage, here are the numbers on test data that none of the models have seen:", 
            "type": "message", 
            "user": "U3450LGGP", 
            "ts": "1487268568.000016"
        }, 
        {
            "text": "_project scope focuses on the various steps taken to deliver a product or service. Project scope can include, among other things, assembly lines, budgets, staff training, supply chains and personnel allocations. Basically, it refers to anything that is needed in order to arrange the production or implementation of a good or service._", 
            "type": "message", 
            "user": "U34BY2K3K", 
            "ts": "1487263851.000015"
        }, 
        {
            "text": "*Project Scope:*", 
            "type": "message", 
            "user": "U34BY2K3K", 
            "ts": "1487263844.000014"
        }, 
        {
            "username": "gmacilla", 
            "display_as_bot": false, 
            "text": "<@U2LUDE27J|gmacilla> uploaded a file: <https://gstudents.slack.com/files/gmacilla/F46GW6WLC/css_to_go_with_that.md|css to go with that>", 
            "upload": true, 
            "ts": "1487262233.000013", 
            "subtype": "file_share", 
            "user": "U2LUDE27J", 
            "file": {
                "filetype": "markdown", 
                "lines_more": 39, 
                "channels": [], 
                "display_as_bot": false, 
                "id": "F46GW6WLC", 
                "size": 782, 
                "title": "css to go with that", 
                "url_private": "https://files.slack.com/files-pri/T1T555TL0-F46GW6WLC/css_to_go_with_that.md", 
                "ims": [], 
                "preview": "body {\r\n    background-color: pink;\r\n}\r\n\r\nh1, p {\r", 
                "external_type": "", 
                "edit_link": "https://gstudents.slack.com/files/gmacilla/F46GW6WLC/css_to_go_with_that.md/edit", 
                "username": "", 
                "timestamp": 1487262233, 
                "public_url_shared": false, 
                "editable": true, 
                "preview_is_truncated": false, 
                "url_private_download": "https://files.slack.com/files-pri/T1T555TL0-F46GW6WLC/download/css_to_go_with_that.md", 
                "user": "U2LUDE27J", 
                "groups": [
                    "G457JN5C1"
                ], 
                "is_public": false, 
                "pretty_type": "Markdown (raw)", 
                "name": "css_to_go_with_that.md", 
                "mimetype": "text/plain", 
                "permalink_public": "https://slack-files.com/T1T555TL0-F46GW6WLC-bf6f5921fb", 
                "permalink": "https://gstudents.slack.com/files/gmacilla/F46GW6WLC/css_to_go_with_that.md", 
                "is_external": false, 
                "created": 1487262233, 
                "lines": 44, 
                "comments_count": 0, 
                "mode": "snippet", 
                "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text/plain',window.getSelection().toString().replace(/\\u200b/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>body {</pre></div>\n<div><pre>    background-color: pink;</pre></div>\n<div><pre>}</pre></div>\n<div><pre>&#8203;</pre></div>\n<div><pre>h1, p {</pre></div>\n</div>\n</div>\n"
            }, 
            "type": "message", 
            "bot_id": null
        }, 
        {
            "username": "gmacilla", 
            "display_as_bot": false, 
            "text": "<@U2LUDE27J|gmacilla> uploaded a file: <https://gstudents.slack.com/files/gmacilla/F46CJEF19/html_to_go_with_it.md|html to go with it>", 
            "upload": true, 
            "ts": "1487262205.000012", 
            "subtype": "file_share", 
            "user": "U2LUDE27J", 
            "file": {
                "filetype": "markdown", 
                "lines_more": 21, 
                "channels": [], 
                "display_as_bot": false, 
                "id": "F46CJEF19", 
                "size": 729, 
                "title": "html to go with it", 
                "url_private": "https://files.slack.com/files-pri/T1T555TL0-F46CJEF19/html_to_go_with_it.md", 
                "ims": [], 
                "preview": "<!DOCTYPE html>\r\n<html>\r\n    <head>\r\n        <meta charset=\"utf-8\">\r\n        <link rel= \"stylesheet\" type= \"text/css\" href= \"{{ url_for('static',filename='css/style.css') }}\">\r", 
                "external_type": "", 
                "edit_link": "https://gstudents.slack.com/files/gmacilla/F46CJEF19/html_to_go_with_it.md/edit", 
                "username": "", 
                "timestamp": 1487262205, 
                "public_url_shared": false, 
                "editable": true, 
                "preview_is_truncated": false, 
                "url_private_download": "https://files.slack.com/files-pri/T1T555TL0-F46CJEF19/download/html_to_go_with_it.md", 
                "user": "U2LUDE27J", 
                "groups": [
                    "G457JN5C1"
                ], 
                "is_public": false, 
                "pretty_type": "Markdown (raw)", 
                "name": "html_to_go_with_it.md", 
                "mimetype": "text/plain", 
                "permalink_public": "https://slack-files.com/T1T555TL0-F46CJEF19-f7e66f9c58", 
                "permalink": "https://gstudents.slack.com/files/gmacilla/F46CJEF19/html_to_go_with_it.md", 
                "is_external": false, 
                "created": 1487262205, 
                "lines": 26, 
                "comments_count": 0, 
                "mode": "snippet", 
                "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text/plain',window.getSelection().toString().replace(/\\u200b/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>&lt;!DOCTYPE html&gt;</pre></div>\n<div><pre>&lt;html&gt;</pre></div>\n<div><pre>    &lt;head&gt;</pre></div>\n<div><pre>        &lt;meta charset=&quot;utf-8&quot;&gt;</pre></div>\n<div><pre>        &lt;link rel= &quot;stylesheet&quot; type= &quot;text/css&quot; href= &quot;{{ url_for('static',filename='css/style.css') }}&quot;&gt;</pre></div>\n<div><pre></pre></div>\n</div>\n</div>\n"
            }, 
            "type": "message", 
            "bot_id": null
        }, 
        {
            "username": "gmacilla", 
            "display_as_bot": false, 
            "text": "<@U2LUDE27J|gmacilla> uploaded a file: <https://gstudents.slack.com/files/gmacilla/F4754TKV4/basic_flask_app.md|basic flask app>", 
            "upload": true, 
            "ts": "1487262176.000011", 
            "subtype": "file_share", 
            "user": "U2LUDE27J", 
            "file": {
                "filetype": "markdown", 
                "lines_more": 12, 
                "channels": [], 
                "display_as_bot": false, 
                "id": "F4754TKV4", 
                "size": 346, 
                "title": "basic flask app", 
                "url_private": "https://files.slack.com/files-pri/T1T555TL0-F4754TKV4/basic_flask_app.md", 
                "ims": [], 
                "preview": "\r\nfrom flask import Flask, render_template\r\napp = Flask(__name__)\r\n\r\n# first routing block\r", 
                "external_type": "", 
                "edit_link": "https://gstudents.slack.com/files/gmacilla/F4754TKV4/basic_flask_app.md/edit", 
                "username": "", 
                "timestamp": 1487262175, 
                "public_url_shared": false, 
                "editable": true, 
                "preview_is_truncated": false, 
                "url_private_download": "https://files.slack.com/files-pri/T1T555TL0-F4754TKV4/download/basic_flask_app.md", 
                "user": "U2LUDE27J", 
                "groups": [
                    "G457JN5C1"
                ], 
                "is_public": false, 
                "pretty_type": "Markdown (raw)", 
                "name": "basic_flask_app.md", 
                "mimetype": "text/plain", 
                "permalink_public": "https://slack-files.com/T1T555TL0-F4754TKV4-8e8dda01ba", 
                "permalink": "https://gstudents.slack.com/files/gmacilla/F4754TKV4/basic_flask_app.md", 
                "is_external": false, 
                "created": 1487262175, 
                "lines": 17, 
                "comments_count": 0, 
                "mode": "snippet", 
                "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text/plain',window.getSelection().toString().replace(/\\u200b/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>&#8203;</pre></div>\n<div><pre>from flask import Flask, render<span class=\"cm-em\">_</span><span class=\"cm-em\">template</span></pre></div>\n<div><pre><span class=\"cm-em\">app</span><span class=\"cm-em\"> </span><span class=\"cm-em\">=</span><span class=\"cm-em\"> </span><span class=\"cm-em\">Flask</span><span class=\"cm-em\">(</span><span class=\"cm-strong cm-em\">__</span><span class=\"cm-strong cm-em\">name</span><span class=\"cm-strong cm-em\">__</span><span class=\"cm-em\">)</span></pre></div>\n<div><pre>&#8203;</pre></div>\n<div><pre><span class=\"cm-header cm-header-1\"># </span><span class=\"cm-header cm-header-1\">first</span><span class=\"cm-header cm-header-1\"> </span><span class=\"cm-header cm-header-1\">routing</span><span class=\"cm-header cm-header-1\"> </span><span class=\"cm-header cm-header-1\">block</span></pre></div>\n</div>\n</div>\n"
            }, 
            "type": "message", 
            "bot_id": null
        }, 
        {
            "username": "lanceculnane", 
            "display_as_bot": false, 
            "text": "<@U3450LGGP|lanceculnane> uploaded a file: <https://gstudents.slack.com/files/lanceculnane/F46B03ABE/classnnnumbersonly2.py|classNNnumbersonly2.py>", 
            "upload": true, 
            "ts": "1487234629.000009", 
            "subtype": "file_share", 
            "user": "U3450LGGP", 
            "file": {
                "filetype": "python", 
                "lines_more": 105, 
                "channels": [], 
                "display_as_bot": false, 
                "id": "F46B03ABE", 
                "size": 4565, 
                "title": "classNNnumbersonly2.py", 
                "url_private": "https://files.slack.com/files-pri/T1T555TL0-F46B03ABE/classnnnumbersonly2.py", 
                "ims": [], 
                "preview": "# the following is from the excellent tutorial by Jason Brownlee- he's got a lot of great ones, and are easier to understand than most!: http://machinelearningmastery.com/regression-tutorial-keras-deep-learning-library-python/\n\n\n# making a regression NN to predict probability of an email being fraudulant\n# we have a batch of thousands of training examples which are labeled 1 for fraud and 0 for not fraud (our y) and it is rare to have fraud so I'll account for that in the train test split", 
                "external_type": "", 
                "edit_link": "https://gstudents.slack.com/files/lanceculnane/F46B03ABE/classnnnumbersonly2.py/edit", 
                "username": "", 
                "timestamp": 1487234629, 
                "public_url_shared": false, 
                "editable": true, 
                "preview_is_truncated": true, 
                "url_private_download": "https://files.slack.com/files-pri/T1T555TL0-F46B03ABE/download/classnnnumbersonly2.py", 
                "user": "U3450LGGP", 
                "groups": [
                    "G457JN5C1"
                ], 
                "is_public": false, 
                "pretty_type": "Python", 
                "name": "classNNnumbersonly2.py", 
                "mimetype": "text/plain", 
                "permalink_public": "https://slack-files.com/T1T555TL0-F46B03ABE-f5c4f85c70", 
                "permalink": "https://gstudents.slack.com/files/lanceculnane/F46B03ABE/classnnnumbersonly2.py", 
                "is_external": false, 
                "created": 1487234629, 
                "lines": 110, 
                "comments_count": 0, 
                "mode": "snippet", 
                "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text/plain',window.getSelection().toString().replace(/\\u200b/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-comment\"># the following is from the excellent tutorial by Jason Brownlee- he's got a lot of great ones, and are easier to understand than most!: http://machinelearningmastery.com/regression-tutorial-keras-deep-learning-library-python/</span></pre></div>\n<div><pre>&#8203;</pre></div>\n<div><pre>&#8203;</pre></div>\n<div><pre><span class=\"cm-comment\"># making a regression NN to predict probability of an email being fraudulant</span></pre></div>\n<div><pre><span class=\"cm-comment\"># we have a batch of thousands of training examples which are labeled 1 for fraud and 0 for not fraud (our y) and it is rare to have fraud so I'll account for that in the train test split</span></pre></div>\n</div>\n</div>\n"
            }, 
            "type": "message", 
            "bot_id": null
        }, 
        {
            "username": "lanceculnane", 
            "display_as_bot": false, 
            "text": "<@U3450LGGP|lanceculnane> uploaded a file: <https://gstudents.slack.com/files/lanceculnane/F45J4ASDP/regressionnnnumbersonly2.py|regressionNNnumbersonly2.py>", 
            "upload": true, 
            "ts": "1487234615.000008", 
            "subtype": "file_share", 
            "user": "U3450LGGP", 
            "file": {
                "filetype": "python", 
                "lines_more": 105, 
                "channels": [], 
                "display_as_bot": false, 
                "id": "F45J4ASDP", 
                "size": 4548, 
                "title": "regressionNNnumbersonly2.py", 
                "url_private": "https://files.slack.com/files-pri/T1T555TL0-F45J4ASDP/regressionnnnumbersonly2.py", 
                "ims": [], 
                "preview": "# the following is from the excellent tutorial by Jason Brownlee- he's got a lot of great ones, and are easier to understand than most!: http://machinelearningmastery.com/regression-tutorial-keras-deep-learning-library-python/\n\n\n# making a regression NN to predict probability of an email being fraudulant\n# we have a batch of thousands of training examples which are labeled 1 for fraud and 0 for not fraud (our y) and it is rare to have fraud so I'll account for that in the train test split", 
                "external_type": "", 
                "edit_link": "https://gstudents.slack.com/files/lanceculnane/F45J4ASDP/regressionnnnumbersonly2.py/edit", 
                "username": "", 
                "timestamp": 1487234614, 
                "public_url_shared": false, 
                "editable": true, 
                "preview_is_truncated": true, 
                "url_private_download": "https://files.slack.com/files-pri/T1T555TL0-F45J4ASDP/download/regressionnnnumbersonly2.py", 
                "user": "U3450LGGP", 
                "groups": [
                    "G457JN5C1"
                ], 
                "is_public": false, 
                "pretty_type": "Python", 
                "name": "regressionNNnumbersonly2.py", 
                "mimetype": "text/plain", 
                "permalink_public": "https://slack-files.com/T1T555TL0-F45J4ASDP-2277068be6", 
                "permalink": "https://gstudents.slack.com/files/lanceculnane/F45J4ASDP/regressionnnnumbersonly2.py", 
                "is_external": false, 
                "created": 1487234614, 
                "lines": 110, 
                "comments_count": 0, 
                "mode": "snippet", 
                "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text/plain',window.getSelection().toString().replace(/\\u200b/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-comment\"># the following is from the excellent tutorial by Jason Brownlee- he's got a lot of great ones, and are easier to understand than most!: http://machinelearningmastery.com/regression-tutorial-keras-deep-learning-library-python/</span></pre></div>\n<div><pre>&#8203;</pre></div>\n<div><pre>&#8203;</pre></div>\n<div><pre><span class=\"cm-comment\"># making a regression NN to predict probability of an email being fraudulant</span></pre></div>\n<div><pre><span class=\"cm-comment\"># we have a batch of thousands of training examples which are labeled 1 for fraud and 0 for not fraud (our y) and it is rare to have fraud so I'll account for that in the train test split</span></pre></div>\n</div>\n</div>\n"
            }, 
            "type": "message", 
            "bot_id": null
        }, 
        {
            "text": "```import pandas as pd\nimport pickle\nimport datetime\nfrom sklearn.feature_extraction.text import TfidfVectorizer\nfrom sklearn.naive_bayes import GaussianNB\nfrom sklearn.ensemble import RandomForestRegressor\nfrom sklearn.metrics import mean_squared_error\nfrom sklearn.cross_validation import train_test_split\n\ndf = pd.read_json('data/data.json')\n# df[\"df_fraud\"] = [(df['acct_type'] == 'fraudster') | (df.acct_type == 'fraudster_event')]\n# df_fraud.head().T\ndf['fraud'] = 0\ndef is_fraud(x):\n    if x == 'fraudster' or x == 'fraudster_event':\n        return 1\n    else:\n        return 0\n\ndf['fraud'] = df['acct_type'].apply(is_fraud, 1)\n# df['time_created_acct'] =\n\n\n\ndef predictor(df_pandas, column_name):\n    # cols_to_vectorize = ['description', 'org_desc']\n    cols_to_vectorize = [column_name]\n    y = df_pandas['fraud']\n\n    for col in cols_to_vectorize:\n        X = df_pandas[col]\n\n        vectorizer = TfidfVectorizer(max_df=.95, min_df=.05, stop_words='english')\n        vectorized_X = vectorizer.fit_transform(X)\n\n        model = GaussianNB()\n        model.fit(vectorized_X.todense(), y)\n\n        y_pred = model.predict(vectorized_X.todense())\n\n        df_pandas[col+'_pred'] = y_pred\n        df_pandas.drop(col, axis=1, inplace=True)\n\n\treturn df_pandas\n\ndf = predictor(df,'description')\ndf = predictor(df,'org_desc')\n\n\n\n\n\n\n##Switch to RF, and look at feature importance:\n#trim data to just some of the numeric columns:\ndf_rf = df[['body_length', 'channels', 'fb_published', 'gts', 'has_analytics', 'has_logo', 'name_length', 'sale_duration', 'user_age', 'user_type', 'venue_latitude', 'venue_longitude']]\n    #took out 'days_user_event'\n#clean up null objects\ndf_rf.fillna(value=0, inplace=True)\n\ny_rf = df['fraud']\nX_train, X_test, y_train, y_test = train_test_split(df_rf, y_rf, random_state = 1234, stratify=y_rf)\nrf = RandomForestRegressor(oob_score=True)\nrf.fit(X_train, y_train)\ny_pred = rf.predict(X_test)\n# print 'MSE: ', mean_squared_error(y_test, y_pred)\n# print 'OOB_error: ', rf.oob_score_\n\ndf[\"rf_pred\"] = rf.predict(df_rf)\n\n\n\n\n\n\n\n\nif __name__ == '__main__':\n    # tdel = datetime.datetime.fromtimestamp(df.event_start[0]) - datetime.datetime.fromtimestamp(df.user_created[0])\n    df_num = df.loc[:, df.dtypes != object]\n    # df_num['num_payouts'] = df_num['previous_payouts'].apply(len, 1)\n    df_num.fillna(-1, inplace=True)\n    y = df_num[\"fraud\"]\n    # y = y.values\n    df_num_X = df_num.drop(\"fraud\", axis=1)\n    # df_num_X = df_num_X.values\n    # y.to_csv(\"data/y.csv\")\n    df_num_X.to_csv(\"data/df_num_X_new.csv\")\n#\n# if __name__ == '__main__':\n#     # print df.head()\n#     # print abs(tdel.days)\n#     # mean_df = df.groupby(\"fraud\").mean()\n#     # median_df = df.groupby(\"fraud\").median()\n#     # mean_df.to_csv(\"data/mean.csv\")\n#     # median_df.to_csv(\"data/median.csv\")\n#     # print df_num.head()\n#     # print <http://df_num.info|df_num.info>()\n#     # print y\n#     # print df_num_X.head()\n#     # print <http://df_num_X.info|df_num_X.info>()\n#     y.to_csv(\"data/y.csv\")\n#     df_num_X.to_csv(\"data/df_num_X.csv\")\n```", 
            "type": "message", 
            "user": "U3450LGGP", 
            "ts": "1487234467.000007"
        }, 
        {
            "text": "The next posts are: 1) eda.py file which shows how I cleaned the data and used David's and Steve's models to make the X-matrix for the NN, 2) regression stacked NN which I propose we use 'as-is' Thu- hit the ground running 3) the classifier version. Sorry the code is probably the worst you will see in a week! I might clean it up and resend it...", 
            "type": "message", 
            "user": "U3450LGGP", 
            "ts": "1487234428.000006", 
            "edited": {
                "user": "U3450LGGP", 
                "ts": "1487234678.000000"
            }
        }, 
        {
            "username": "lanceculnane", 
            "display_as_bot": false, 
            "text": "<@U3450LGGP|lanceculnane> uploaded a file: <https://gstudents.slack.com/files/lanceculnane/F45H7SCEL/screen_shot_2017-02-16_at_1.33.46_am.png|Screen Shot 2017-02-16 at 1.33.46 AM.png>", 
            "upload": true, 
            "ts": "1487234065.000005", 
            "subtype": "file_share", 
            "user": "U3450LGGP", 
            "file": {
                "thumb_480_w": 480, 
                "groups": [
                    "G457JN5C1"
                ], 
                "filetype": "png", 
                "thumb_480": "https://files.slack.com/files-tmb/T1T555TL0-F45H7SCEL-0e65363c94/screen_shot_2017-02-16_at_1.33.46_am_480.png", 
                "display_as_bot": false, 
                "thumb_64": "https://files.slack.com/files-tmb/T1T555TL0-F45H7SCEL-0e65363c94/screen_shot_2017-02-16_at_1.33.46_am_64.png", 
                "size": 249007, 
                "original_h": 346, 
                "thumb_360_w": 360, 
                "title": "Screen Shot 2017-02-16 at 1.33.46 AM.png", 
                "url_private": "https://files.slack.com/files-pri/T1T555TL0-F45H7SCEL/screen_shot_2017-02-16_at_1.33.46_am.png", 
                "thumb_720_h": 223, 
                "thumb_360": "https://files.slack.com/files-tmb/T1T555TL0-F45H7SCEL-0e65363c94/screen_shot_2017-02-16_at_1.33.46_am_360.png", 
                "id": "F45H7SCEL", 
                "ims": [], 
                "thumb_720_w": 720, 
                "thumb_80": "https://files.slack.com/files-tmb/T1T555TL0-F45H7SCEL-0e65363c94/screen_shot_2017-02-16_at_1.33.46_am_80.png", 
                "comments_count": 0, 
                "thumb_360_h": 112, 
                "thumb_480_h": 149, 
                "external_type": "", 
                "username": "", 
                "timestamp": 1487234062, 
                "public_url_shared": false, 
                "editable": false, 
                "thumb_160": "https://files.slack.com/files-tmb/T1T555TL0-F45H7SCEL-0e65363c94/screen_shot_2017-02-16_at_1.33.46_am_160.png", 
                "url_private_download": "https://files.slack.com/files-pri/T1T555TL0-F45H7SCEL/download/screen_shot_2017-02-16_at_1.33.46_am.png", 
                "thumb_1024": "https://files.slack.com/files-tmb/T1T555TL0-F45H7SCEL-0e65363c94/screen_shot_2017-02-16_at_1.33.46_am_1024.png", 
                "user": "U3450LGGP", 
                "image_exif_rotation": 1, 
                "thumb_960": "https://files.slack.com/files-tmb/T1T555TL0-F45H7SCEL-0e65363c94/screen_shot_2017-02-16_at_1.33.46_am_960.png", 
                "is_public": false, 
                "pretty_type": "PNG", 
                "name": "Screen Shot 2017-02-16 at 1.33.46 AM.png", 
                "mimetype": "image/png", 
                "permalink_public": "https://slack-files.com/T1T555TL0-F45H7SCEL-c52f6f4a4e", 
                "permalink": "https://gstudents.slack.com/files/lanceculnane/F45H7SCEL/screen_shot_2017-02-16_at_1.33.46_am.png", 
                "is_external": false, 
                "created": 1487234062, 
                "thumb_1024_h": 317, 
                "thumb_960_h": 298, 
                "original_w": 1116, 
                "thumb_960_w": 960, 
                "thumb_1024_w": 1024, 
                "mode": "hosted", 
                "thumb_720": "https://files.slack.com/files-tmb/T1T555TL0-F45H7SCEL-0e65363c94/screen_shot_2017-02-16_at_1.33.46_am_720.png", 
                "channels": []
            }, 
            "type": "message", 
            "bot_id": null
        }, 
        {
            "text": "...and when I do the whole beast all over as a classifier, (on unseen test data) it gets: accuracy = 99.1%; recall = 99.4%", 
            "type": "message", 
            "user": "U3450LGGP", 
            "ts": "1487234010.000004"
        }, 
        {
            "username": "lanceculnane", 
            "display_as_bot": false, 
            "text": "<@U3450LGGP|lanceculnane> uploaded a file: <https://gstudents.slack.com/files/lanceculnane/F45HWMSCR/screen_shot_2017-02-16_at_1.17.47_am.png|Screen Shot 2017-02-16 at 1.17.47 AM.png> and commented: Yes those are boobs", 
            "upload": true, 
            "ts": "1487233118.000003", 
            "subtype": "file_share", 
            "user": "U3450LGGP", 
            "file": {
                "thumb_480_w": 480, 
                "groups": [
                    "G457JN5C1"
                ], 
                "initial_comment": {
                    "comment": "Yes those are boobs", 
                    "created": 1487233115, 
                    "timestamp": 1487233115, 
                    "is_intro": true, 
                    "user": "U3450LGGP", 
                    "id": "Fc45H350HE"
                }, 
                "filetype": "png", 
                "thumb_480": "https://files.slack.com/files-tmb/T1T555TL0-F45HWMSCR-427f18e4ff/screen_shot_2017-02-16_at_1.17.47_am_480.png", 
                "display_as_bot": false, 
                "thumb_64": "https://files.slack.com/files-tmb/T1T555TL0-F45HWMSCR-427f18e4ff/screen_shot_2017-02-16_at_1.17.47_am_64.png", 
                "size": 230501, 
                "original_h": 312, 
                "thumb_360_w": 360, 
                "title": "Screen Shot 2017-02-16 at 1.17.47 AM.png", 
                "url_private": "https://files.slack.com/files-pri/T1T555TL0-F45HWMSCR/screen_shot_2017-02-16_at_1.17.47_am.png", 
                "thumb_720_h": 196, 
                "thumb_360": "https://files.slack.com/files-tmb/T1T555TL0-F45HWMSCR-427f18e4ff/screen_shot_2017-02-16_at_1.17.47_am_360.png", 
                "id": "F45HWMSCR", 
                "ims": [], 
                "thumb_720_w": 720, 
                "thumb_80": "https://files.slack.com/files-tmb/T1T555TL0-F45HWMSCR-427f18e4ff/screen_shot_2017-02-16_at_1.17.47_am_80.png", 
                "comments_count": 1, 
                "thumb_360_h": 98, 
                "thumb_480_h": 130, 
                "external_type": "", 
                "username": "", 
                "timestamp": 1487233115, 
                "public_url_shared": false, 
                "editable": false, 
                "thumb_160": "https://files.slack.com/files-tmb/T1T555TL0-F45HWMSCR-427f18e4ff/screen_shot_2017-02-16_at_1.17.47_am_160.png", 
                "url_private_download": "https://files.slack.com/files-pri/T1T555TL0-F45HWMSCR/download/screen_shot_2017-02-16_at_1.17.47_am.png", 
                "thumb_1024": "https://files.slack.com/files-tmb/T1T555TL0-F45HWMSCR-427f18e4ff/screen_shot_2017-02-16_at_1.17.47_am_1024.png", 
                "user": "U3450LGGP", 
                "image_exif_rotation": 1, 
                "thumb_960": "https://files.slack.com/files-tmb/T1T555TL0-F45HWMSCR-427f18e4ff/screen_shot_2017-02-16_at_1.17.47_am_960.png", 
                "is_public": false, 
                "pretty_type": "PNG", 
                "name": "Screen Shot 2017-02-16 at 1.17.47 AM.png", 
                "mimetype": "image/png", 
                "permalink_public": "https://slack-files.com/T1T555TL0-F45HWMSCR-1e02215845", 
                "permalink": "https://gstudents.slack.com/files/lanceculnane/F45HWMSCR/screen_shot_2017-02-16_at_1.17.47_am.png", 
                "is_external": false, 
                "created": 1487233115, 
                "thumb_1024_h": 278, 
                "thumb_960_h": 261, 
                "original_w": 1148, 
                "thumb_960_w": 960, 
                "thumb_1024_w": 1024, 
                "mode": "hosted", 
                "thumb_720": "https://files.slack.com/files-tmb/T1T555TL0-F45HWMSCR-427f18e4ff/screen_shot_2017-02-16_at_1.17.47_am_720.png", 
                "channels": []
            }, 
            "type": "message", 
            "bot_id": null
        }, 
        {
            "text": "RMSE: 0.090 stacked NN with David's features included AND Steve's RF prediction as a feature", 
            "type": "message", 
            "user": "U3450LGGP", 
            "ts": "1487233043.000002"
        }, 
        {
            "username": "declausen", 
            "display_as_bot": false, 
            "text": "<@U3ANAHFHQ|declausen> uploaded a file: <https://gstudents.slack.com/files/declausen/F464U6Z5Z/screen_shot_2017-02-15_at_8.58.32_pm.png|Screen Shot 2017-02-15 at 8.58.32 PM.png> and commented: Statsmodels Linear Regression Summary", 
            "upload": true, 
            "ts": "1487217616.000044", 
            "subtype": "file_share", 
            "user": "U3ANAHFHQ", 
            "file": {
                "thumb_480_w": 480, 
                "groups": [
                    "G457JN5C1"
                ], 
                "initial_comment": {
                    "comment": "Statsmodels Linear Regression Summary", 
                    "created": 1487217610, 
                    "timestamp": 1487217610, 
                    "is_intro": true, 
                    "user": "U3ANAHFHQ", 
                    "id": "Fc466V5J1Y"
                }, 
                "filetype": "png", 
                "thumb_480": "https://files.slack.com/files-tmb/T1T555TL0-F464U6Z5Z-fdd98697ad/screen_shot_2017-02-15_at_8.58.32_pm_480.png", 
                "display_as_bot": false, 
                "thumb_64": "https://files.slack.com/files-tmb/T1T555TL0-F464U6Z5Z-fdd98697ad/screen_shot_2017-02-15_at_8.58.32_pm_64.png", 
                "size": 218782, 
                "original_h": 1112, 
                "thumb_360_w": 360, 
                "title": "Screen Shot 2017-02-15 at 8.58.32 PM.png", 
                "url_private": "https://files.slack.com/files-pri/T1T555TL0-F464U6Z5Z/screen_shot_2017-02-15_at_8.58.32_pm.png", 
                "thumb_720_h": 621, 
                "thumb_360": "https://files.slack.com/files-tmb/T1T555TL0-F464U6Z5Z-fdd98697ad/screen_shot_2017-02-15_at_8.58.32_pm_360.png", 
                "id": "F464U6Z5Z", 
                "ims": [], 
                "thumb_720_w": 720, 
                "thumb_80": "https://files.slack.com/files-tmb/T1T555TL0-F464U6Z5Z-fdd98697ad/screen_shot_2017-02-15_at_8.58.32_pm_80.png", 
                "comments_count": 1, 
                "thumb_360_h": 310, 
                "thumb_480_h": 414, 
                "external_type": "", 
                "username": "", 
                "timestamp": 1487217610, 
                "public_url_shared": false, 
                "editable": false, 
                "thumb_160": "https://files.slack.com/files-tmb/T1T555TL0-F464U6Z5Z-fdd98697ad/screen_shot_2017-02-15_at_8.58.32_pm_160.png", 
                "url_private_download": "https://files.slack.com/files-pri/T1T555TL0-F464U6Z5Z/download/screen_shot_2017-02-15_at_8.58.32_pm.png", 
                "thumb_1024": "https://files.slack.com/files-tmb/T1T555TL0-F464U6Z5Z-fdd98697ad/screen_shot_2017-02-15_at_8.58.32_pm_1024.png", 
                "user": "U3ANAHFHQ", 
                "image_exif_rotation": 1, 
                "thumb_960": "https://files.slack.com/files-tmb/T1T555TL0-F464U6Z5Z-fdd98697ad/screen_shot_2017-02-15_at_8.58.32_pm_960.png", 
                "is_public": false, 
                "pretty_type": "PNG", 
                "name": "Screen Shot 2017-02-15 at 8.58.32 PM.png", 
                "mimetype": "image/png", 
                "permalink_public": "https://slack-files.com/T1T555TL0-F464U6Z5Z-dda7334bb7", 
                "permalink": "https://gstudents.slack.com/files/declausen/F464U6Z5Z/screen_shot_2017-02-15_at_8.58.32_pm.png", 
                "is_external": false, 
                "created": 1487217610, 
                "thumb_1024_h": 883, 
                "thumb_960_h": 828, 
                "original_w": 1290, 
                "thumb_960_w": 960, 
                "thumb_1024_w": 1024, 
                "mode": "hosted", 
                "thumb_720": "https://files.slack.com/files-tmb/T1T555TL0-F464U6Z5Z-fdd98697ad/screen_shot_2017-02-15_at_8.58.32_pm_720.png", 
                "channels": []
            }, 
            "type": "message", 
            "bot_id": null
        }, 
        {
            "username": "declausen", 
            "display_as_bot": false, 
            "text": "<@U3ANAHFHQ|declausen> uploaded a file: <https://gstudents.slack.com/files/declausen/F464U4XS7/screen_shot_2017-02-15_at_8.57.51_pm.png|Screen Shot 2017-02-15 at 8.57.51 PM.png> and commented: Statsmodels Logistic Regression Summary", 
            "upload": true, 
            "ts": "1487217595.000043", 
            "subtype": "file_share", 
            "user": "U3ANAHFHQ", 
            "file": {
                "thumb_480_w": 480, 
                "groups": [
                    "G457JN5C1"
                ], 
                "initial_comment": {
                    "comment": "Statsmodels Logistic Regression Summary", 
                    "created": 1487217592, 
                    "timestamp": 1487217592, 
                    "is_intro": true, 
                    "user": "U3ANAHFHQ", 
                    "id": "Fc4695RKN0"
                }, 
                "filetype": "png", 
                "thumb_480": "https://files.slack.com/files-tmb/T1T555TL0-F464U4XS7-1aa28ffcb5/screen_shot_2017-02-15_at_8.57.51_pm_480.png", 
                "display_as_bot": false, 
                "thumb_64": "https://files.slack.com/files-tmb/T1T555TL0-F464U4XS7-1aa28ffcb5/screen_shot_2017-02-15_at_8.57.51_pm_64.png", 
                "size": 165806, 
                "original_h": 816, 
                "thumb_360_w": 360, 
                "title": "Screen Shot 2017-02-15 at 8.57.51 PM.png", 
                "url_private": "https://files.slack.com/files-pri/T1T555TL0-F464U4XS7/screen_shot_2017-02-15_at_8.57.51_pm.png", 
                "thumb_720_h": 491, 
                "thumb_360": "https://files.slack.com/files-tmb/T1T555TL0-F464U4XS7-1aa28ffcb5/screen_shot_2017-02-15_at_8.57.51_pm_360.png", 
                "id": "F464U4XS7", 
                "ims": [], 
                "thumb_720_w": 720, 
                "thumb_80": "https://files.slack.com/files-tmb/T1T555TL0-F464U4XS7-1aa28ffcb5/screen_shot_2017-02-15_at_8.57.51_pm_80.png", 
                "comments_count": 1, 
                "thumb_360_h": 246, 
                "thumb_480_h": 327, 
                "external_type": "", 
                "username": "", 
                "timestamp": 1487217592, 
                "public_url_shared": false, 
                "editable": false, 
                "thumb_160": "https://files.slack.com/files-tmb/T1T555TL0-F464U4XS7-1aa28ffcb5/screen_shot_2017-02-15_at_8.57.51_pm_160.png", 
                "url_private_download": "https://files.slack.com/files-pri/T1T555TL0-F464U4XS7/download/screen_shot_2017-02-15_at_8.57.51_pm.png", 
                "thumb_1024": "https://files.slack.com/files-tmb/T1T555TL0-F464U4XS7-1aa28ffcb5/screen_shot_2017-02-15_at_8.57.51_pm_1024.png", 
                "user": "U3ANAHFHQ", 
                "image_exif_rotation": 1, 
                "thumb_960": "https://files.slack.com/files-tmb/T1T555TL0-F464U4XS7-1aa28ffcb5/screen_shot_2017-02-15_at_8.57.51_pm_960.png", 
                "is_public": false, 
                "pretty_type": "PNG", 
                "name": "Screen Shot 2017-02-15 at 8.57.51 PM.png", 
                "mimetype": "image/png", 
                "permalink_public": "https://slack-files.com/T1T555TL0-F464U4XS7-4f2b0f5981", 
                "permalink": "https://gstudents.slack.com/files/declausen/F464U4XS7/screen_shot_2017-02-15_at_8.57.51_pm.png", 
                "is_external": false, 
                "created": 1487217592, 
                "thumb_1024_h": 699, 
                "thumb_960_h": 655, 
                "original_w": 1196, 
                "thumb_960_w": 960, 
                "thumb_1024_w": 1024, 
                "mode": "hosted", 
                "thumb_720": "https://files.slack.com/files-tmb/T1T555TL0-F464U4XS7-1aa28ffcb5/screen_shot_2017-02-15_at_8.57.51_pm_720.png", 
                "channels": []
            }, 
            "type": "message", 
            "bot_id": null
        }, 
        {
            "text": "from sklearn.preprocessing import StandardScaler", 
            "type": "message", 
            "user": "U3450LGGP", 
            "ts": "1487212411.000038"
        }, 
        {
            "text": "on training NN: RMSE best = 0.139, recall = 0.82", 
            "type": "message", 
            "user": "U3450LGGP", 
            "ts": "1487209233.000037"
        }, 
        {
            "text": "RMSE = 0.220635", 
            "type": "message", 
            "user": "U34BY2K3K", 
            "ts": "1487208716.000036"
        }, 
        {
            "username": "whsky", 
            "display_as_bot": false, 
            "text": "<@U34BY2K3K|whsky> uploaded a file: <https://gstudents.slack.com/files/whsky/F45F68RK3/rf_feat_imp_num_payouts_.png|RF_feat_imp(num_payouts).png> and commented: Adding 'num_payouts' feature into random forest...", 
            "upload": true, 
            "ts": "1487208677.000035", 
            "subtype": "file_share", 
            "user": "U34BY2K3K", 
            "file": {
                "thumb_480_w": 480, 
                "groups": [
                    "G457JN5C1"
                ], 
                "initial_comment": {
                    "comment": "Adding 'num_payouts' feature into random forest...", 
                    "created": 1487208676, 
                    "timestamp": 1487208676, 
                    "is_intro": true, 
                    "user": "U34BY2K3K", 
                    "id": "Fc46RRAEBY"
                }, 
                "filetype": "png", 
                "thumb_480": "https://files.slack.com/files-tmb/T1T555TL0-F45F68RK3-86eb07875f/rf_feat_imp_num_payouts__480.png", 
                "display_as_bot": false, 
                "thumb_64": "https://files.slack.com/files-tmb/T1T555TL0-F45F68RK3-86eb07875f/rf_feat_imp_num_payouts__64.png", 
                "size": 49279, 
                "original_h": 550, 
                "thumb_360_w": 360, 
                "title": "RF_feat_imp(num_payouts).png", 
                "url_private": "https://files.slack.com/files-pri/T1T555TL0-F45F68RK3/rf_feat_imp_num_payouts_.png", 
                "thumb_720_h": 495, 
                "thumb_360": "https://files.slack.com/files-tmb/T1T555TL0-F45F68RK3-86eb07875f/rf_feat_imp_num_payouts__360.png", 
                "id": "F45F68RK3", 
                "ims": [], 
                "thumb_720_w": 720, 
                "thumb_80": "https://files.slack.com/files-tmb/T1T555TL0-F45F68RK3-86eb07875f/rf_feat_imp_num_payouts__80.png", 
                "thumb_360_h": 248, 
                "thumb_480_h": 330, 
                "external_type": "", 
                "username": "", 
                "timestamp": 1487208676, 
                "public_url_shared": false, 
                "editable": false, 
                "thumb_160": "https://files.slack.com/files-tmb/T1T555TL0-F45F68RK3-86eb07875f/rf_feat_imp_num_payouts__160.png", 
                "url_private_download": "https://files.slack.com/files-pri/T1T555TL0-F45F68RK3/download/rf_feat_imp_num_payouts_.png", 
                "user": "U34BY2K3K", 
                "image_exif_rotation": 1, 
                "is_public": false, 
                "pretty_type": "PNG", 
                "name": "RF_feat_imp(num_payouts).png", 
                "mimetype": "image/png", 
                "permalink_public": "https://slack-files.com/T1T555TL0-F45F68RK3-5cd4545dd5", 
                "permalink": "https://gstudents.slack.com/files/whsky/F45F68RK3/rf_feat_imp_num_payouts_.png", 
                "is_external": false, 
                "created": 1487208676, 
                "original_w": 800, 
                "comments_count": 1, 
                "mode": "hosted", 
                "thumb_720": "https://files.slack.com/files-tmb/T1T555TL0-F45F68RK3-86eb07875f/rf_feat_imp_num_payouts__720.png", 
                "channels": []
            }, 
            "type": "message", 
            "bot_id": null
        }, 
        {
            "text": "```\ndf['num_payouts'] = df['previous_payouts'].apply(len, 1)\n```", 
            "type": "message", 
            "user": "U34BY2K3K", 
            "ts": "1487208079.000034"
        }, 
        {
            "text": "We should include the LENGTH of the 'previous_payouts' column.  For 1k data points mean len for fraud = 1.85, and for nonfraud = 72.74", 
            "type": "message", 
            "user": "U34BY2K3K", 
            "ts": "1487207882.000033"
        }, 
        {
            "text": "Shhh.... 'gts' = 'Gross Ticket Sales'", 
            "type": "message", 
            "user": "U34BY2K3K", 
            "ts": "1487206588.000032"
        }, 
        {
            "text": "```from sklearn.ensemble import RandomForestRegressor\nfrom sklearn.metrics import mean_squared_error\n\n##Switch to RF, and look at feature importance:\n#trim data to just some of the numeric columns:\ndf_rf = df[['body_length', 'channels', 'fb_published', 'gts', 'has_analytics', 'has_logo', 'name_length', 'sale_duration', 'user_age', 'user_type', 'venue_latitude', 'venue_longitude', 'days_user_event']]\n#clean up null objects\ndf_rf.fillna(value=0, inplace=True)\n\ny_rf = df['fraud']\nX_train, X_test, y_train, y_test = train_test_split(df_rf, y_rf, random_state = 1234)\nrf = RandomForestRegressor(oob_score=True)\nrf.fit(X_train, y_train)\ny_pred = rf.predict(X_test)\nprint 'MSE: ', mean_squared_error(y_test, y_pred)\nprint 'OOB_error: ', rf.oob_score_\nindx = np.arange(len(df_rf.columns))\n\nsrt = np.argsort(rf.feature_importances_)[::-1]\nfeat_names = [str(s) for s in df_rf.columns[srt].tolist()]\nplt.bar(indx, rf.feature_importances_[srt])\nplt.xticks(indx, feat_names, rotation=45)\nplt.ylabel(\"Normalized Importances\")\nplt.title(\"Feature Importances for Rand. For.\")\nplt.tight_layout()\nplt.show()\n```", 
            "type": "message", 
            "user": "U34BY2K3K", 
            "ts": "1487204344.000031"
        }, 
        {
            "text": "How I was implementing RF:", 
            "type": "message", 
            "user": "U34BY2K3K", 
            "ts": "1487204336.000030"
        }, 
        {
            "username": "declausen", 
            "display_as_bot": false, 
            "text": "<@U3ANAHFHQ|declausen> uploaded a file: <https://gstudents.slack.com/files/declausen/F462ZR60K/-.py|Untitled> and commented: pass it a pandas df, it adds a prediction column for the description and org_desc columns, and also drops those two columns, it returns the new pandas df", 
            "upload": true, 
            "ts": "1487204020.000029", 
            "subtype": "file_share", 
            "user": "U3ANAHFHQ", 
            "file": {
                "initial_comment": {
                    "comment": "pass it a pandas df, it adds a prediction column for the description and org_desc columns, and also drops those two columns, it returns the new pandas df", 
                    "created": 1487204019, 
                    "timestamp": 1487204019, 
                    "is_intro": true, 
                    "user": "U3ANAHFHQ", 
                    "id": "Fc46RC4CA3"
                }, 
                "filetype": "python", 
                "lines_more": 24, 
                "channels": [], 
                "display_as_bot": false, 
                "id": "F462ZR60K", 
                "size": 727, 
                "title": "Untitled", 
                "url_private": "https://files.slack.com/files-pri/T1T555TL0-F462ZR60K/-.py", 
                "ims": [], 
                "preview": "import pandas as pd\r\nfrom sklearn.feature_extraction.text import TfidfVectorizer\r\nfrom sklearn.naive_bayes import GaussianNB\r\n\r\n\r", 
                "external_type": "", 
                "edit_link": "https://gstudents.slack.com/files/declausen/F462ZR60K/-.py/edit", 
                "username": "", 
                "timestamp": 1487204019, 
                "public_url_shared": false, 
                "editable": true, 
                "preview_is_truncated": false, 
                "url_private_download": "https://files.slack.com/files-pri/T1T555TL0-F462ZR60K/download/-.py", 
                "user": "U3ANAHFHQ", 
                "groups": [
                    "G457JN5C1"
                ], 
                "is_public": false, 
                "pretty_type": "Python", 
                "name": "-.py", 
                "mimetype": "text/plain", 
                "permalink_public": "https://slack-files.com/T1T555TL0-F462ZR60K-c9015cd48b", 
                "permalink": "https://gstudents.slack.com/files/declausen/F462ZR60K/-.py", 
                "is_external": false, 
                "created": 1487204019, 
                "lines": 29, 
                "comments_count": 1, 
                "mode": "snippet", 
                "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text/plain',window.getSelection().toString().replace(/\\u200b/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-keyword\">import</span> <span class=\"cm-variable\">pandas</span> <span class=\"cm-keyword\">as</span> <span class=\"cm-variable\">pd</span></pre></div>\n<div><pre><span class=\"cm-keyword\">from</span> <span class=\"cm-variable\">sklearn</span>.<span class=\"cm-property\">feature_extraction</span>.<span class=\"cm-property\">text</span> <span class=\"cm-keyword\">import</span> <span class=\"cm-variable\">TfidfVectorizer</span></pre></div>\n<div><pre><span class=\"cm-keyword\">from</span> <span class=\"cm-variable\">sklearn</span>.<span class=\"cm-property\">naive_bayes</span> <span class=\"cm-keyword\">import</span> <span class=\"cm-variable\">GaussianNB</span></pre></div>\n<div><pre>&#8203;</pre></div>\n<div><pre>&#8203;</pre></div>\n</div>\n</div>\n"
            }, 
            "type": "message", 
            "bot_id": null
        }, 
        {
            "text": "RMSE = 0.2389142", 
            "type": "message", 
            "user": "U34BY2K3K", 
            "ts": "1487203096.000028"
        }, 
        {
            "username": "whsky", 
            "display_as_bot": false, 
            "text": "<@U34BY2K3K|whsky> uploaded a file: <https://gstudents.slack.com/files/whsky/F464V4H6E/rf_feat_imp_nosale_duration_.png|RF_feat_imp(NOsale_duration).png> and commented: Removing 'sale_duration' and re-ran the random forest", 
            "upload": true, 
            "ts": "1487203075.000027", 
            "subtype": "file_share", 
            "user": "U34BY2K3K", 
            "file": {
                "thumb_480_w": 480, 
                "groups": [
                    "G457JN5C1"
                ], 
                "initial_comment": {
                    "comment": "Removing 'sale_duration' and re-ran the random forest", 
                    "created": 1487203073, 
                    "timestamp": 1487203073, 
                    "is_intro": true, 
                    "user": "U34BY2K3K", 
                    "id": "Fc467FRF29"
                }, 
                "filetype": "png", 
                "thumb_480": "https://files.slack.com/files-tmb/T1T555TL0-F464V4H6E-cb69afd8e2/rf_feat_imp_nosale_duration__480.png", 
                "display_as_bot": false, 
                "thumb_64": "https://files.slack.com/files-tmb/T1T555TL0-F464V4H6E-cb69afd8e2/rf_feat_imp_nosale_duration__64.png", 
                "size": 47436, 
                "original_h": 550, 
                "thumb_360_w": 360, 
                "title": "RF_feat_imp(NOsale_duration).png", 
                "url_private": "https://files.slack.com/files-pri/T1T555TL0-F464V4H6E/rf_feat_imp_nosale_duration_.png", 
                "thumb_720_h": 495, 
                "thumb_360": "https://files.slack.com/files-tmb/T1T555TL0-F464V4H6E-cb69afd8e2/rf_feat_imp_nosale_duration__360.png", 
                "id": "F464V4H6E", 
                "ims": [], 
                "thumb_720_w": 720, 
                "thumb_80": "https://files.slack.com/files-tmb/T1T555TL0-F464V4H6E-cb69afd8e2/rf_feat_imp_nosale_duration__80.png", 
                "thumb_360_h": 248, 
                "thumb_480_h": 330, 
                "external_type": "", 
                "username": "", 
                "timestamp": 1487203073, 
                "public_url_shared": false, 
                "editable": false, 
                "thumb_160": "https://files.slack.com/files-tmb/T1T555TL0-F464V4H6E-cb69afd8e2/rf_feat_imp_nosale_duration__160.png", 
                "url_private_download": "https://files.slack.com/files-pri/T1T555TL0-F464V4H6E/download/rf_feat_imp_nosale_duration_.png", 
                "user": "U34BY2K3K", 
                "image_exif_rotation": 1, 
                "is_public": false, 
                "pretty_type": "PNG", 
                "name": "RF_feat_imp(NOsale_duration).png", 
                "mimetype": "image/png", 
                "permalink_public": "https://slack-files.com/T1T555TL0-F464V4H6E-3bd6fb62a8", 
                "permalink": "https://gstudents.slack.com/files/whsky/F464V4H6E/rf_feat_imp_nosale_duration_.png", 
                "is_external": false, 
                "created": 1487203073, 
                "original_w": 800, 
                "comments_count": 1, 
                "mode": "hosted", 
                "thumb_720": "https://files.slack.com/files-tmb/T1T555TL0-F464V4H6E-cb69afd8e2/rf_feat_imp_nosale_duration__720.png", 
                "channels": []
            }, 
            "type": "message", 
            "bot_id": null
        }, 
        {
            "text": "RMSE = 0.187403", 
            "type": "message", 
            "user": "U34BY2K3K", 
            "ts": "1487201925.000026"
        }, 
        {
            "username": "whsky", 
            "display_as_bot": false, 
            "text": "<@U34BY2K3K|whsky> uploaded a file: <https://gstudents.slack.com/files/whsky/F466UKDQU/rf_feat_imp.png|RF_feat_imp.png> and commented: Cherry picked some numeric columns and ran RF and pulled out feat. importances...", 
            "upload": true, 
            "ts": "1487201222.000025", 
            "subtype": "file_share", 
            "user": "U34BY2K3K", 
            "file": {
                "thumb_480_w": 480, 
                "groups": [
                    "G457JN5C1"
                ], 
                "initial_comment": {
                    "comment": "Cherry picked some numeric columns and ran RF and pulled out feat. importances...", 
                    "created": 1487201220, 
                    "timestamp": 1487201220, 
                    "is_intro": true, 
                    "user": "U34BY2K3K", 
                    "id": "Fc45D5A124"
                }, 
                "filetype": "png", 
                "thumb_480": "https://files.slack.com/files-tmb/T1T555TL0-F466UKDQU-c579d63ede/rf_feat_imp_480.png", 
                "display_as_bot": false, 
                "thumb_64": "https://files.slack.com/files-tmb/T1T555TL0-F466UKDQU-c579d63ede/rf_feat_imp_64.png", 
                "size": 52118, 
                "original_h": 550, 
                "thumb_360_w": 360, 
                "title": "RF_feat_imp.png", 
                "url_private": "https://files.slack.com/files-pri/T1T555TL0-F466UKDQU/rf_feat_imp.png", 
                "thumb_720_h": 495, 
                "thumb_360": "https://files.slack.com/files-tmb/T1T555TL0-F466UKDQU-c579d63ede/rf_feat_imp_360.png", 
                "id": "F466UKDQU", 
                "ims": [], 
                "thumb_720_w": 720, 
                "thumb_80": "https://files.slack.com/files-tmb/T1T555TL0-F466UKDQU-c579d63ede/rf_feat_imp_80.png", 
                "thumb_360_h": 248, 
                "thumb_480_h": 330, 
                "external_type": "", 
                "username": "", 
                "timestamp": 1487201220, 
                "public_url_shared": false, 
                "editable": false, 
                "thumb_160": "https://files.slack.com/files-tmb/T1T555TL0-F466UKDQU-c579d63ede/rf_feat_imp_160.png", 
                "url_private_download": "https://files.slack.com/files-pri/T1T555TL0-F466UKDQU/download/rf_feat_imp.png", 
                "user": "U34BY2K3K", 
                "image_exif_rotation": 1, 
                "is_public": false, 
                "pretty_type": "PNG", 
                "name": "RF_feat_imp.png", 
                "mimetype": "image/png", 
                "permalink_public": "https://slack-files.com/T1T555TL0-F466UKDQU-f9268c7c7e", 
                "permalink": "https://gstudents.slack.com/files/whsky/F466UKDQU/rf_feat_imp.png", 
                "is_external": false, 
                "created": 1487201220, 
                "original_w": 800, 
                "comments_count": 1, 
                "mode": "hosted", 
                "thumb_720": "https://files.slack.com/files-tmb/T1T555TL0-F466UKDQU-c579d63ede/rf_feat_imp_720.png", 
                "channels": []
            }, 
            "type": "message", 
            "bot_id": null
        }, 
        {
            "username": "whsky", 
            "display_as_bot": false, 
            "text": "<@U34BY2K3K|whsky> uploaded a file: <https://gstudents.slack.com/files/whsky/F463EMF98/logregr_subsampled_.png|LogRegr(subsampled).png> and commented: Subsampled (98 fraud cases, 100 nonfraud cases)", 
            "upload": true, 
            "ts": "1487196334.000024", 
            "subtype": "file_share", 
            "user": "U34BY2K3K", 
            "file": {
                "thumb_480_w": 480, 
                "groups": [
                    "G457JN5C1"
                ], 
                "initial_comment": {
                    "comment": "Subsampled (98 fraud cases, 100 nonfraud cases)", 
                    "created": 1487196331, 
                    "timestamp": 1487196331, 
                    "is_intro": true, 
                    "user": "U34BY2K3K", 
                    "id": "Fc46PS2J6T"
                }, 
                "filetype": "png", 
                "thumb_480": "https://files.slack.com/files-tmb/T1T555TL0-F463EMF98-a0821102e4/logregr_subsampled__480.png", 
                "display_as_bot": false, 
                "thumb_64": "https://files.slack.com/files-tmb/T1T555TL0-F463EMF98-a0821102e4/logregr_subsampled__64.png", 
                "size": 37131, 
                "original_h": 550, 
                "thumb_360_w": 360, 
                "title": "LogRegr(subsampled).png", 
                "url_private": "https://files.slack.com/files-pri/T1T555TL0-F463EMF98/logregr_subsampled_.png", 
                "thumb_720_h": 495, 
                "thumb_360": "https://files.slack.com/files-tmb/T1T555TL0-F463EMF98-a0821102e4/logregr_subsampled__360.png", 
                "id": "F463EMF98", 
                "ims": [], 
                "thumb_720_w": 720, 
                "thumb_80": "https://files.slack.com/files-tmb/T1T555TL0-F463EMF98-a0821102e4/logregr_subsampled__80.png", 
                "thumb_360_h": 248, 
                "thumb_480_h": 330, 
                "external_type": "", 
                "username": "", 
                "timestamp": 1487196331, 
                "public_url_shared": false, 
                "editable": false, 
                "thumb_160": "https://files.slack.com/files-tmb/T1T555TL0-F463EMF98-a0821102e4/logregr_subsampled__160.png", 
                "url_private_download": "https://files.slack.com/files-pri/T1T555TL0-F463EMF98/download/logregr_subsampled_.png", 
                "user": "U34BY2K3K", 
                "image_exif_rotation": 1, 
                "is_public": false, 
                "pretty_type": "PNG", 
                "name": "LogRegr(subsampled).png", 
                "mimetype": "image/png", 
                "permalink_public": "https://slack-files.com/T1T555TL0-F463EMF98-28dacfaeaf", 
                "permalink": "https://gstudents.slack.com/files/whsky/F463EMF98/logregr_subsampled_.png", 
                "is_external": false, 
                "created": 1487196331, 
                "original_w": 800, 
                "comments_count": 1, 
                "mode": "hosted", 
                "thumb_720": "https://files.slack.com/files-tmb/T1T555TL0-F463EMF98-a0821102e4/logregr_subsampled__720.png", 
                "channels": []
            }, 
            "type": "message", 
            "bot_id": null
        }, 
        {
            "text": "```    X_train, X_test, y_train, y_test = train_test_split(df_num_X2, y, test_size=0.18, random_state=23, stratify=y)```", 
            "type": "message", 
            "user": "U3450LGGP", 
            "ts": "1487195270.000023"
        }, 
        {
            "text": "i think if you do stratify=y it will automatically do a train test split in the same balance as 0s and 1s in y", 
            "type": "message", 
            "user": "U3450LGGP", 
            "ts": "1487195265.000022"
        }, 
        {
            "text": "```import datetime\n\ndef days_between_timestamp(x):\n    return abs(datetime.datetime.fromtimestamp(x[0]) - (datetime.datetime.fromtimestamp(x[1]))).days\n\ndf['days_user_event'] = df[['event_created', 'user_created']].apply(days_between_timestamp, 1)```", 
            "type": "message", 
            "user": "U34BY2K3K", 
            "ts": "1487193815.000021"
        }, 
        {
            "text": "Using the .apply method like Gordon used above:", 
            "type": "message", 
            "user": "U34BY2K3K", 
            "ts": "1487193810.000020"
        }, 
        {
            "username": "whsky", 
            "display_as_bot": false, 
            "text": "<@U34BY2K3K|whsky> uploaded a file: <https://gstudents.slack.com/files/whsky/F46NZV9LP/logregr_1k_data_points_.png|LogRegr(1k_data_points).png> and commented: Looks like some class imbalance issues...I'll see if I can subsample.", 
            "upload": true, 
            "ts": "1487193523.000019", 
            "subtype": "file_share", 
            "user": "U34BY2K3K", 
            "file": {
                "thumb_480_w": 480, 
                "groups": [
                    "G457JN5C1"
                ], 
                "initial_comment": {
                    "comment": "Looks like some class imbalance issues...I'll see if I can subsample.", 
                    "created": 1487193521, 
                    "timestamp": 1487193521, 
                    "is_intro": true, 
                    "user": "U34BY2K3K", 
                    "id": "Fc464ZD47N"
                }, 
                "filetype": "png", 
                "thumb_480": "https://files.slack.com/files-tmb/T1T555TL0-F46NZV9LP-4f532ed448/logregr_1k_data_points__480.png", 
                "display_as_bot": false, 
                "thumb_64": "https://files.slack.com/files-tmb/T1T555TL0-F46NZV9LP-4f532ed448/logregr_1k_data_points__64.png", 
                "size": 33515, 
                "original_h": 550, 
                "thumb_360_w": 360, 
                "title": "LogRegr(1k_data_points).png", 
                "url_private": "https://files.slack.com/files-pri/T1T555TL0-F46NZV9LP/logregr_1k_data_points_.png", 
                "thumb_720_h": 495, 
                "thumb_360": "https://files.slack.com/files-tmb/T1T555TL0-F46NZV9LP-4f532ed448/logregr_1k_data_points__360.png", 
                "id": "F46NZV9LP", 
                "ims": [], 
                "thumb_720_w": 720, 
                "thumb_80": "https://files.slack.com/files-tmb/T1T555TL0-F46NZV9LP-4f532ed448/logregr_1k_data_points__80.png", 
                "thumb_360_h": 248, 
                "thumb_480_h": 330, 
                "external_type": "", 
                "username": "", 
                "timestamp": 1487193521, 
                "public_url_shared": false, 
                "editable": false, 
                "thumb_160": "https://files.slack.com/files-tmb/T1T555TL0-F46NZV9LP-4f532ed448/logregr_1k_data_points__160.png", 
                "url_private_download": "https://files.slack.com/files-pri/T1T555TL0-F46NZV9LP/download/logregr_1k_data_points_.png", 
                "user": "U34BY2K3K", 
                "image_exif_rotation": 1, 
                "is_public": false, 
                "pretty_type": "PNG", 
                "name": "LogRegr(1k_data_points).png", 
                "mimetype": "image/png", 
                "permalink_public": "https://slack-files.com/T1T555TL0-F46NZV9LP-fa082453ae", 
                "permalink": "https://gstudents.slack.com/files/whsky/F46NZV9LP/logregr_1k_data_points_.png", 
                "is_external": false, 
                "created": 1487193521, 
                "original_w": 800, 
                "comments_count": 1, 
                "mode": "hosted", 
                "thumb_720": "https://files.slack.com/files-tmb/T1T555TL0-F46NZV9LP-4f532ed448/logregr_1k_data_points__720.png", 
                "channels": []
            }, 
            "type": "message", 
            "bot_id": null
        }, 
        {
            "username": "whsky", 
            "display_as_bot": false, 
            "text": "<@U34BY2K3K|whsky> uploaded a file: <https://gstudents.slack.com/files/whsky/F46MAJUEA/fraud_days100.png|Fraud_days100.png> and commented: now between event_created and user_created", 
            "upload": true, 
            "ts": "1487188704.000018", 
            "subtype": "file_share", 
            "user": "U34BY2K3K", 
            "file": {
                "thumb_480_w": 480, 
                "groups": [
                    "G457JN5C1"
                ], 
                "initial_comment": {
                    "comment": "now between event_created and user_created", 
                    "created": 1487188702, 
                    "timestamp": 1487188702, 
                    "is_intro": true, 
                    "user": "U34BY2K3K", 
                    "id": "Fc461AFL2W"
                }, 
                "filetype": "png", 
                "thumb_480": "https://files.slack.com/files-tmb/T1T555TL0-F46MAJUEA-05ab77c969/fraud_days100_480.png", 
                "display_as_bot": false, 
                "thumb_64": "https://files.slack.com/files-tmb/T1T555TL0-F46MAJUEA-05ab77c969/fraud_days100_64.png", 
                "size": 23428, 
                "original_h": 550, 
                "thumb_360_w": 360, 
                "title": "Fraud_days100.png", 
                "url_private": "https://files.slack.com/files-pri/T1T555TL0-F46MAJUEA/fraud_days100.png", 
                "thumb_720_h": 495, 
                "thumb_360": "https://files.slack.com/files-tmb/T1T555TL0-F46MAJUEA-05ab77c969/fraud_days100_360.png", 
                "id": "F46MAJUEA", 
                "ims": [], 
                "thumb_720_w": 720, 
                "thumb_80": "https://files.slack.com/files-tmb/T1T555TL0-F46MAJUEA-05ab77c969/fraud_days100_80.png", 
                "thumb_360_h": 248, 
                "thumb_480_h": 330, 
                "external_type": "", 
                "username": "", 
                "timestamp": 1487188702, 
                "public_url_shared": false, 
                "editable": false, 
                "thumb_160": "https://files.slack.com/files-tmb/T1T555TL0-F46MAJUEA-05ab77c969/fraud_days100_160.png", 
                "url_private_download": "https://files.slack.com/files-pri/T1T555TL0-F46MAJUEA/download/fraud_days100.png", 
                "user": "U34BY2K3K", 
                "image_exif_rotation": 1, 
                "is_public": false, 
                "pretty_type": "PNG", 
                "name": "Fraud_days100.png", 
                "mimetype": "image/png", 
                "permalink_public": "https://slack-files.com/T1T555TL0-F46MAJUEA-db0c059110", 
                "permalink": "https://gstudents.slack.com/files/whsky/F46MAJUEA/fraud_days100.png", 
                "is_external": false, 
                "created": 1487188702, 
                "original_w": 800, 
                "comments_count": 1, 
                "mode": "hosted", 
                "thumb_720": "https://files.slack.com/files-tmb/T1T555TL0-F46MAJUEA-05ab77c969/fraud_days100_720.png", 
                "channels": []
            }, 
            "type": "message", 
            "bot_id": null
        }, 
        {
            "text": "I'm going to rebuild that plot to look at days between event_created (not event_start) and user_created", 
            "type": "message", 
            "user": "U34BY2K3K", 
            "ts": "1487188041.000017"
        }, 
        {
            "text": "```df_num = df.loc[:, df.dtypes != object]\ndf_num.fillna(-1, inplace=True)```", 
            "type": "message", 
            "user": "U3450LGGP", 
            "ts": "1487187850.000016"
        }, 
        {
            "text": "here's how I just  only took columns with numbers and replaced nans with -1:", 
            "type": "message", 
            "user": "U3450LGGP", 
            "ts": "1487187842.000015"
        }, 
        {
            "username": "whsky", 
            "display_as_bot": false, 
            "text": "<@U34BY2K3K|whsky> uploaded a file: <https://gstudents.slack.com/files/whsky/F4631QLAY/fraud_days100.png|Fraud_days100.png> and commented: Fraud / not fraud based on days from user_created to event_start from first 100 data points", 
            "upload": true, 
            "ts": "1487186812.000014", 
            "subtype": "file_share", 
            "user": "U34BY2K3K", 
            "file": {
                "thumb_480_w": 480, 
                "groups": [
                    "G457JN5C1"
                ], 
                "initial_comment": {
                    "comment": "Fraud / not fraud based on days from user_created to event_start from first 100 data points", 
                    "created": 1487186810, 
                    "timestamp": 1487186810, 
                    "is_intro": true, 
                    "user": "U34BY2K3K", 
                    "id": "Fc463BQP0D"
                }, 
                "filetype": "png", 
                "thumb_480": "https://files.slack.com/files-tmb/T1T555TL0-F4631QLAY-25a915adc3/fraud_days100_480.png", 
                "display_as_bot": false, 
                "thumb_64": "https://files.slack.com/files-tmb/T1T555TL0-F4631QLAY-25a915adc3/fraud_days100_64.png", 
                "size": 23617, 
                "original_h": 550, 
                "thumb_360_w": 360, 
                "title": "Fraud_days100.png", 
                "url_private": "https://files.slack.com/files-pri/T1T555TL0-F4631QLAY/fraud_days100.png", 
                "thumb_720_h": 495, 
                "thumb_360": "https://files.slack.com/files-tmb/T1T555TL0-F4631QLAY-25a915adc3/fraud_days100_360.png", 
                "id": "F4631QLAY", 
                "ims": [], 
                "thumb_720_w": 720, 
                "thumb_80": "https://files.slack.com/files-tmb/T1T555TL0-F4631QLAY-25a915adc3/fraud_days100_80.png", 
                "thumb_360_h": 248, 
                "thumb_480_h": 330, 
                "external_type": "", 
                "username": "", 
                "timestamp": 1487186810, 
                "public_url_shared": false, 
                "editable": false, 
                "thumb_160": "https://files.slack.com/files-tmb/T1T555TL0-F4631QLAY-25a915adc3/fraud_days100_160.png", 
                "url_private_download": "https://files.slack.com/files-pri/T1T555TL0-F4631QLAY/download/fraud_days100.png", 
                "user": "U34BY2K3K", 
                "image_exif_rotation": 1, 
                "is_public": false, 
                "pretty_type": "PNG", 
                "name": "Fraud_days100.png", 
                "mimetype": "image/png", 
                "permalink_public": "https://slack-files.com/T1T555TL0-F4631QLAY-220b88dc92", 
                "permalink": "https://gstudents.slack.com/files/whsky/F4631QLAY/fraud_days100.png", 
                "is_external": false, 
                "created": 1487186810, 
                "original_w": 800, 
                "comments_count": 1, 
                "mode": "hosted", 
                "thumb_720": "https://files.slack.com/files-tmb/T1T555TL0-F4631QLAY-25a915adc3/fraud_days100_720.png", 
                "channels": []
            }, 
            "type": "message", 
            "bot_id": null
        }, 
        {
            "username": "gmacilla", 
            "display_as_bot": false, 
            "text": "<@U2LUDE27J|gmacilla> uploaded a file: <https://gstudents.slack.com/files/gmacilla/F46L55MK9/-.md|Untitled>", 
            "upload": true, 
            "ts": "1487183796.000013", 
            "subtype": "file_share", 
            "user": "U2LUDE27J", 
            "file": {
                "filetype": "markdown", 
                "lines_more": 2, 
                "channels": [], 
                "display_as_bot": false, 
                "id": "F46L55MK9", 
                "size": 133, 
                "title": "Untitled", 
                "url_private": "https://files.slack.com/files-pri/T1T555TL0-F46L55MK9/-.md", 
                "ims": [], 
                "preview": "def is_listed(x):\r\n    if x == 'y':\r\n        return 1\r\n    else:\r\n        return 0\r", 
                "external_type": "", 
                "edit_link": "https://gstudents.slack.com/files/gmacilla/F46L55MK9/-.md/edit", 
                "username": "", 
                "timestamp": 1487183796, 
                "public_url_shared": false, 
                "editable": true, 
                "preview_is_truncated": false, 
                "url_private_download": "https://files.slack.com/files-pri/T1T555TL0-F46L55MK9/download/-.md", 
                "user": "U2LUDE27J", 
                "groups": [
                    "G457JN5C1"
                ], 
                "is_public": false, 
                "pretty_type": "Markdown (raw)", 
                "name": "-.md", 
                "mimetype": "text/plain", 
                "permalink_public": "https://slack-files.com/T1T555TL0-F46L55MK9-7eef0e50d0", 
                "permalink": "https://gstudents.slack.com/files/gmacilla/F46L55MK9/-.md", 
                "is_external": false, 
                "created": 1487183796, 
                "lines": 7, 
                "comments_count": 0, 
                "mode": "snippet", 
                "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text/plain',window.getSelection().toString().replace(/\\u200b/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>def is<span class=\"cm-em\">_</span><span class=\"cm-em\">listed</span><span class=\"cm-em\">(</span><span class=\"cm-em\">x):</span></pre></div>\n<div><pre>    if x == 'y':</pre></div>\n<div><pre>        return 1</pre></div>\n<div><pre>    <span class=\"cm-em\">else:</span></pre></div>\n<div><pre>        return 0</pre></div>\n</div>\n</div>\n"
            }, 
            "type": "message", 
            "bot_id": null
        }, 
        {
            "text": "Shhhhh...erebody's listening :stuck_out_tongue:", 
            "type": "message", 
            "user": "U34BY2K3K", 
            "ts": "1487180767.000012"
        }, 
        {
            "text": "```import datetime\ntdel = datetime.datetime.fromtimestamp(df_fraud.event_start[0]) - datetime.datetime.fromtimestamp(df_fraud.user_created[0])\nprint abs(tdel.days)```", 
            "type": "message", 
            "user": "U34BY2K3K", 
            "ts": "1487180737.000011"
        }, 
        {
            "text": "Hey, lets look at the time between creating the account and posting the event:", 
            "type": "message", 
            "user": "U34BY2K3K", 
            "ts": "1487180725.000010"
        }, 
        {
            "text": "df_fraud = df[(df.acct_type == 'fraudster') | (df.acct_type == 'fraudster_event')]\ndf_fraud.head().T", 
            "type": "message", 
            "user": "U34BY2K3K", 
            "ts": "1487179922.000009"
        }, 
        {
            "username": "gmacilla", 
            "display_as_bot": false, 
            "text": "<@U2LUDE27J|gmacilla> uploaded a file: <https://gstudents.slack.com/files/gmacilla/F4576QK0Q/code_for_fraud_column.md|code for fraud column>", 
            "upload": true, 
            "ts": "1487179692.000008", 
            "subtype": "file_share", 
            "user": "U2LUDE27J", 
            "file": {
                "filetype": "markdown", 
                "lines_more": 3, 
                "channels": [], 
                "display_as_bot": false, 
                "id": "F4576QK0Q", 
                "size": 184, 
                "title": "code for fraud column", 
                "url_private": "https://files.slack.com/files-pri/T1T555TL0-F4576QK0Q/code_for_fraud_column.md", 
                "ims": [], 
                "preview": "df['fraud'] = 0\r\ndef is_fraud(x):\r\n    if x == 'fraudster' or x == 'fraudster_event':\r\n        return 1\r\n    else:\r", 
                "external_type": "", 
                "edit_link": "https://gstudents.slack.com/files/gmacilla/F4576QK0Q/code_for_fraud_column.md/edit", 
                "username": "", 
                "timestamp": 1487179692, 
                "public_url_shared": false, 
                "editable": true, 
                "preview_is_truncated": false, 
                "url_private_download": "https://files.slack.com/files-pri/T1T555TL0-F4576QK0Q/download/code_for_fraud_column.md", 
                "user": "U2LUDE27J", 
                "groups": [
                    "G457JN5C1"
                ], 
                "is_public": false, 
                "pretty_type": "Markdown (raw)", 
                "name": "code_for_fraud_column.md", 
                "mimetype": "text/plain", 
                "permalink_public": "https://slack-files.com/T1T555TL0-F4576QK0Q-6e847ccc8b", 
                "permalink": "https://gstudents.slack.com/files/gmacilla/F4576QK0Q/code_for_fraud_column.md", 
                "is_external": false, 
                "created": 1487179692, 
                "lines": 8, 
                "comments_count": 0, 
                "mode": "snippet", 
                "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text/plain',window.getSelection().toString().replace(/\\u200b/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>df['fraud'] = 0</pre></div>\n<div><pre>def is<span class=\"cm-em\">_</span><span class=\"cm-em\">fraud</span><span class=\"cm-em\">(</span><span class=\"cm-em\">x):</span></pre></div>\n<div><pre>    if x == 'fraudster' or x == 'fraudster_event':</pre></div>\n<div><pre>        return 1</pre></div>\n<div><pre>    <span class=\"cm-em\">else:</span></pre></div>\n</div>\n</div>\n"
            }, 
            "type": "message", 
            "bot_id": null
        }, 
        {
            "username": "lanceculnane", 
            "display_as_bot": false, 
            "text": "<@U3450LGGP|lanceculnane> shared a file: <https://gstudents.slack.com/files/lanceculnane/F457T42QH/team_awkward|Team Bronies>", 
            "upload": false, 
            "ts": "1487179015.000007", 
            "subtype": "file_share", 
            "user": "U3450LGGP", 
            "file": {
                "filetype": "gpres", 
                "channels": [], 
                "display_as_bot": false, 
                "has_rich_preview": false, 
                "thumb_64": "https://slack.com/img/files/gpres_64.v.png", 
                "size": 81, 
                "thumb_360_w": 360, 
                "title": "Team Bronies", 
                "url_private": "https://docs.google.com/presentation/d/1XvBqhscixTtPeCN9dbiuO9bTBHerf_MNJwhAv-uPJPk/edit?usp=sharing", 
                "thumb_360": "https://slack.com/img/files/gpres_360.v.png", 
                "id": "F457T42QH", 
                "ims": [], 
                "thumb_360_h": 167, 
                "external_type": "gdrive", 
                "username": "", 
                "timestamp": 1487179015, 
                "public_url_shared": false, 
                "editable": false, 
                "user": "U3450LGGP", 
                "groups": [
                    "G457JN5C1"
                ], 
                "is_public": false, 
                "pretty_type": "GDocs Presentation", 
                "name": "Team Awkward", 
                "mimetype": "application/vnd.google-apps.presentation", 
                "permalink": "https://gstudents.slack.com/files/lanceculnane/F457T42QH/team_awkward", 
                "is_external": true, 
                "created": 1487179015, 
                "comments_count": 0, 
                "mode": "external"
            }, 
            "type": "message", 
            "bot_id": null
        }, 
        {
            "text": "<https://docs.google.com/presentation/d/1XvBqhscixTtPeCN9dbiuO9bTBHerf_MNJwhAv-uPJPk/edit?usp=sharing>", 
            "type": "message", 
            "user": "U3450LGGP", 
            "ts": "1487179014.000006"
        }, 
        {
            "text": "<https://codeshare.io/2Wdw4E>", 
            "type": "message", 
            "user": "U2LUDE27J", 
            "ts": "1487178913.000005"
        }, 
        {
            "text": "Team Name ideas? (start a thread against this post)", 
            "type": "message", 
            "user": "U2LUDE27J", 
            "ts": "1487178331.000002"
        }
    ], 
    "channel_info": {
        "topic": {
            "last_set": 1487178251, 
            "value": "Group messaging", 
            "creator": "U2LUDE27J"
        }, 
        "name_normalized": "mpdm-gmacilla--lanceculnane--whsky--declausen-1", 
        "name": "mpdm-gmacilla--lanceculnane--whsky--declausen-1", 
        "last_read": "1487285773.000042", 
        "creator": "U2LUDE27J", 
        "is_mpim": true, 
        "is_archived": false, 
        "created": 1487178251, 
        "is_group": true, 
        "members": [
            "U2LUDE27J", 
            "U34BY2K3K", 
            "U3450LGGP", 
            "U3ANAHFHQ"
        ], 
        "unread_count": 0, 
        "is_open": false, 
        "purpose": {
            "last_set": 1487178251, 
            "value": "Group messaging with: @gmacilla @lanceculnane @whsky @declausen", 
            "creator": "U2LUDE27J"
        }, 
        "unread_count_display": 0, 
        "id": "G457JN5C1", 
        "latest": {
            "text": "<http://ec2-54-234-99-142.compute-1.amazonaws.com:8080/predict>", 
            "type": "message", 
            "user": "U2LUDE27J", 
            "ts": "1487285773.000042"
        }
    }
}